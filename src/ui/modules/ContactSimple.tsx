'use client'

import React from 'react'
import Heading from '@/ui/Heading'
import { PortableText } from 'next-sanity'
import type { PortableTextBlock } from 'next-sanity'
import CTA from '@/ui/CTA'
import Text from '@/ui/Text'

function CustomIcon() {
  return (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <g clipPath="url(#clip0_451_2834)">
        <path
          d="M15.0556 20.3249C14.9671 20.6349 14.3914 20.9005 14.3914 20.9005C13.4615 21.1662 12.3545 20.7234 11.8232 20.1477L11.9562 19.9706C12.3104 19.4835 12.3989 18.9522 12.2662 18.4209L15.0556 20.3249Z"
          fill="black"
        />
        <path
          d="M21.6532 16.7827C21.5202 17.0484 21.2104 17.3584 20.5462 17.4911C20.5462 17.4911 20.2361 17.5797 19.6607 17.4467L15.9853 14.9674C15.8967 14.923 15.8082 14.923 15.7638 15.0117C15.7194 15.1003 15.7194 15.1888 15.8082 15.2332L19.5277 17.8014C19.6163 18.067 19.6607 18.4656 19.3062 18.6869C19.3062 18.6869 18.5978 19.3953 17.1365 18.8198L13.3284 16.2514C13.2398 16.207 13.1513 16.207 13.1069 16.2958C13.0625 16.3844 13.0625 16.4729 13.1513 16.5615L16.9152 19.1296C17.3579 19.7939 16.8708 20.8564 15.3211 20.1039C15.3211 20.1039 12.9742 18.5097 12.0443 17.8455C11.9557 17.6684 11.7786 17.5355 11.6015 17.4028C11.203 17.0928 10.7161 16.96 10.2289 17.0486C10.0074 17.093 9.78618 17.1371 9.60905 17.2701C9.5205 16.8715 9.25485 16.5617 8.90064 16.2958C8.10369 15.6759 6.99646 15.8531 6.37664 16.6059C6.24371 16.3844 6.06661 16.2073 5.88951 16.0746C5.40237 15.7204 4.78251 15.6318 4.25123 15.7645C4.11829 15.4545 3.94119 15.1446 3.63135 14.9232C3.01148 14.4804 2.21436 14.4361 1.59448 14.7903L2.96687 8.90088C3.63113 9.87513 4.64953 10.0079 4.95958 10.0079C5.93383 10.1408 6.6864 9.87494 7.35066 9.69785C7.66069 9.6093 7.97053 9.52075 8.28053 9.43219C9.2104 9.2551 10.5831 9.2551 11.2473 9.52074C12.4428 10.0079 13.9925 10.7163 15.1439 11.6905C15.631 12.0891 16.0294 12.5319 16.5165 12.9746C16.9592 13.4174 17.402 13.9045 17.9335 14.3472C20.1918 16.2955 21.0331 16.8268 21.5645 16.8268C21.5645 16.827 21.6086 16.827 21.653 16.7827L21.6532 16.7827Z"
          fill="black"
        />
        <path
          d="M22.2284 15.4986C22.007 15.5872 21.7413 15.7201 21.52 15.8972C21.2985 16.0743 18.7747 13.9045 18.4648 13.6389C17.4905 12.7975 16.6936 11.7791 15.7195 10.9822C14.5239 10.0079 13.0183 9.29951 11.6014 8.67963C10.7159 8.32543 9.12174 8.3696 8.14749 8.5467C7.04049 8.76818 6.28775 9.25511 5.09222 9.12236C4.64947 9.07798 4.20673 8.94526 3.89668 8.59106C3.2768 7.83827 3.54248 7.35114 4.29526 7.08547C5.40226 6.73127 6.5092 6.37706 7.52767 5.8014C7.8377 5.6243 8.369 5.66846 8.67905 5.66846C9.38746 5.66846 10.096 5.71285 10.7603 5.75701C11.6016 5.84556 12.4871 5.75701 13.2843 5.9785C13.9042 6.15559 14.4798 6.5098 15.0996 6.73129C15.8966 7.04132 16.6938 7.26259 17.5351 7.39555C17.668 7.43993 19.8376 7.52848 20.679 7.52848L22.2284 15.4986Z"
          fill="black"
        />
        <path
          d="M3.3651 4.95945L0.531284 16.4283L-2.03687 15.8526V3.23291C-0.0443777 3.72005 2.524 4.42845 3.3651 4.95973V4.95945Z"
          fill="black"
        />
        <path
          d="M26.0366 3.23252V15.8966L23.1141 16.4279L20.8115 4.69363C21.6529 4.20649 24.0883 3.63101 26.0366 3.23242V3.23252Z"
          fill="black"
        />
        <path
          d="M1.90421 17.4464L1.55001 17.1807C1.19581 16.9151 1.15143 16.4279 1.37291 16.0737L1.77149 15.5424C2.03714 15.1882 2.52429 15.1439 2.87849 15.4095L3.23269 15.6752C3.58689 15.9408 3.63127 16.4279 3.36563 16.7822L2.96705 17.3134C2.74556 17.6235 2.25841 17.712 1.90421 17.4464Z"
          fill="black"
        />
        <path
          d="M3.98543 18.9075L3.58685 18.5977C3.27682 18.3321 3.18827 17.8893 3.45392 17.5349L4.11817 16.6935C4.38382 16.3835 4.82659 16.295 5.18102 16.5606L5.5796 16.8706C5.88963 17.1363 5.97818 17.5791 5.71253 17.9335L5.04828 18.7748C4.78241 19.0846 4.29526 19.1732 3.98543 18.9075Z"
          fill="black"
        />
        <path
          d="M6.0223 20.4579L5.62372 20.1479C5.31369 19.8822 5.22514 19.4394 5.49078 19.085L7.12906 16.9152C7.39472 16.6052 7.83748 16.5166 8.19191 16.7823L8.59049 17.0923C8.90052 17.358 8.98907 17.8007 8.72342 18.1552L7.08514 20.325C6.81927 20.6792 6.37651 20.7235 6.0223 20.4579Z"
          fill="black"
        />
        <path
          d="M9.03353 21.2107L8.63495 20.9006C8.32492 20.635 8.23637 20.1922 8.50201 19.8378L9.83047 18.0666C10.0961 17.7566 10.5389 17.668 10.8933 17.9337L11.2919 18.2437C11.6019 18.5093 11.6905 18.9521 11.4248 19.3065L10.0964 21.0777C9.8305 21.3878 9.34336 21.4763 9.03353 21.2107Z"
          fill="black"
        />
      </g>
      <defs>
        <clipPath id="clip0_451_2834">
          <rect width="28.8" height="28.8" fill="white" transform="translate(-2.3999 -2.3999)" />
        </clipPath>
      </defs>
    </svg>
  )
}

interface ContactSimpleProps {
  title?: string
  excerpt?: PortableTextBlock[]
  ctas?: Sanity.CTA[]
}

export default function ContactSimple({ title, excerpt, ctas = [] }: Readonly<ContactSimpleProps>) {
  return (
    <div className="relative py-8">
      <span className="absolute top-0 left-1/2 block h-[2px] w-[90%] -translate-x-1/2 bg-gradient-to-r from-transparent via-gray-500 to-transparent" />

      <div className="container mx-auto flex max-w-3xl flex-col items-center px-4 text-center">
        {title && (
          <Heading as="h2" variant="h2" className="mb-1 inline-block text-gray-900">
            {title}
          </Heading>
        )}

        {excerpt && (
          <Text
            as="div"
            variant="body"
            className="mx-auto mt-1 mb-2 max-w-xl text-gray-500 [&_p]:mb-2"
          >
            <PortableText value={excerpt ?? []} />
          </Text>
        )}

        {ctas?.length > 0 && (
          <div className="my-3 flex flex-wrap items-center justify-center gap-4">
            {ctas.map((cta) => (
              <CTA
                className="shadow-(--shadow-badge) max-sm:w-full"
                {...cta}
                style={cta?.style ?? 'default'}
                key={cta?._key}
              >
                <CustomIcon />
                {cta.link?.label}
              </CTA>
            ))}
          </div>
        )}
      </div>

      <span className="absolute bottom-0 left-1/2 block h-[2px] w-[90%] -translate-x-1/2 bg-gradient-to-r from-transparent via-gray-500 to-transparent" />
    </div>
  )
}
